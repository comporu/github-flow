# Compo. Общие рекомендации по организации работы с github


В силу ряда особенностей работы с проектами в компании Compo soft, 
мы предлагаем соблюдать некоторые правила при разработке проектов и внесении нового функционала в проекты.

Особенностями являются:

1. Большое количество проектов
2. Отсутствие релизов
3. Разные по своей сути проекты
4. Разные по своей сути задачи на проектах

В проектах всегда есть две ветки **dev** и **master**. 
В нашем случае эти ветки выполняют следующие функции:

**dev** - стабильная ветка, которая, в идеале, должна быть равна мастеру, ее так же называют pre-production или stage.
У нас все привыкли к называнию dev и пусть так и остается.
Какие то совсем мелкие, единичные изменения для простых проектов можно выполнять в этой ветке.


**master** - production-ветка, в которую никогда никто не делает push. 
Эта ветка должна всегда быть готова к deploy на боевой сервер.
Изменения в master вносятся путем слияния с dev.


Если мы говорим о наборе некоторых задач по проекту, которые мелкие сами по себе, 
но их определенное количество. 
В этом случае рекомендуется создать на основе 
dev свою собственную ветку **feature-yourlastname-yourfeaturename**
После выполнения всех задач сделать коммит этой ветки. 
В зависимости от того, кто ведет этот проект, сам разработчик может выполнить 
deploy ветки на тестовый сервер, и далее выполнить все процедуры тестирования, в т.ч. приемочное со стороны заказчика.
Если все ок - сливаем вашу ветку в dev и удаляем ее. 


Удалить ветку из github


``
git push <remote_name> --delete <branch_name>
``

Удалить ветку локально


``
git branch -d <branch_name>
``


Далее, в зависимости от стадии проекта делаем другие пакеты задач, либо deploy нового функционала в master путем слияния с dev.
Все эти процедуры могут выполнять как разные специалисты, так и один. Это зависит от задач, квалификации и наличия доступов.
Если вам дали доступ на тестовый сервер, то вы можете работать с ним и выполнять процедуры до слияния с dev веткой.

Если задача большая но одна или две - то все тоже самое. Делаем отдельную ветку и далее см. выше.
Важно чтобы мелкие задачи (шрифт потеменее + цвет фона пожелтее - не разбивались на разные ветки)


На некоторых проектах могут быть свои правила, сильно отличающиеся от общих.
Это в рабочем порядке отдельно обсуждается с разработчиками.


**Коммиты Smart commits**

Когда по задаче делается коммит, важно ставить идентификатор задачи.
https://i.imgur.com/OMQhj5D.png - идентификатор JIRA присваивает автоматически, вам надо только его скопировать.

Так же надо ставить временную метку и метку комментария

`DV-3 #time 1w 2d 4h 30m #comment Исправлен баг рассчета цен`

что означает что вы делали эту задачу 1 неделю 2 дня 4 часа и 30 минут 
комментарий надо оставить с помощью команды #comment на русском языке

Другие примеры

``JRA-3 #time 30m #comment изменен формат параметра vendorCode во внешнем источнике``

``JRA-5 #time 1h 20m #comment исправление работы чекбокса для массовых действий с записями``



Более подробно о стандарте Smart commits: https://confluence.atlassian.com/jirasoftwarecloud/processing-issues-with-smart-commits-788960027.html#id-_smart_commits_commands1-time








